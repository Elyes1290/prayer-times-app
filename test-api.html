<!DOCTYPE html>
<html>
  <head>
    <title>Test API Users</title>
  </head>
  <body>
    <h1>Test API Users</h1>

    <h2>Test GET /users.php</h2>
    <button onclick="testGet()">Test GET (user_id=2)</button>
    <div id="getResult"></div>

    <h2>Test POST /users.php (cr√©ation utilisateur)</h2>
    <button onclick="testPost()">Test POST</button>
    <div id="postResult"></div>

    <h2>Test GET avec email</h2>
    <button onclick="testGetEmail()">Test GET (email)</button>
    <div id="getEmailResult"></div>

    <script>
      const API_BASE = "https://myadhanapp.com/api";

      async function testGet() {
        try {
          const response = await fetch(`${API_BASE}/users.php?user_id=2`, {
            method: "GET",
            headers: {
              "Content-Type": "application/json",
            },
          });

          const result = await response.text();
          document.getElementById("getResult").innerHTML = `
                    <h3>Status: ${response.status}</h3>
                    <pre>${result}</pre>
                `;
        } catch (error) {
          document.getElementById("getResult").innerHTML = `
                    <h3>Erreur:</h3>
                    <pre>${error.message}</pre>
                `;
        }
      }

      async function testGetEmail() {
        try {
          const response = await fetch(
            `${API_BASE}/users.php?email=test@example.com`,
            {
              method: "GET",
              headers: {
                "Content-Type": "application/json",
              },
            }
          );

          const result = await response.text();
          document.getElementById("getEmailResult").innerHTML = `
                    <h3>Status: ${response.status}</h3>
                    <pre>${result}</pre>
                `;
        } catch (error) {
          document.getElementById("getEmailResult").innerHTML = `
                    <h3>Erreur:</h3>
                    <pre>${error.message}</pre>
                `;
        }
      }

      async function testPost() {
        try {
          const userData = {
            email: "test2@example.com",
            password: "test123",
            user_first_name: "Test2",
            language: "fr",
          };

          const response = await fetch(`${API_BASE}/users.php`, {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
            },
            body: JSON.stringify(userData),
          });

          const result = await response.text();
          document.getElementById("postResult").innerHTML = `
                    <h3>Status: ${response.status}</h3>
                    <pre>${result}</pre>
                `;
        } catch (error) {
          document.getElementById("postResult").innerHTML = `
                    <h3>Erreur:</h3>
                    <pre>${error.message}</pre>
                `;
        }
      }
    </script>
  </body>
</html>
